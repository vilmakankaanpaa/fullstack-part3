{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/PersonsList.js","components/Notification.js","components/ErrorMessage.js","services/persons.js","App.js","index.js"],"names":["Filter","filter","handler","value","onChange","PersonForm","props","onSubmit","newName","onNameChange","newNumber","onNumberChange","type","Person","person","onRemove","name","number","onClick","PersonsList","list","onRemoveOf","map","Notification","message","className","ErrorMessage","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","console","log","App","useState","persons","setPersons","setNewName","setNewNumber","newFilter","setNewFilter","setMessage","errorMessage","setErrorMessage","useEffect","personsService","initialPersons","viewMessage","setTimeout","viewErrorMessage","personsToShow","startsWith","event","target","preventDefault","newPerson","existingPerson","find","undefined","window","confirm","changedPerson","returnedPerson","catch","error","n","updateOld","returnedPersons","concat","ReactDOM","render","document","getElementById"],"mappings":"oLAceA,EAZA,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QACxB,OACE,uDAEE,uBACEC,MAAOF,EACPG,SAAUF,QCsBHG,EA5BI,SAAEC,GAEnB,IAAQC,EACwBD,EADxBC,SAAUC,EACcF,EADdE,QAASC,EACKH,EADLG,aACzBC,EAA8BJ,EAA9BI,UAAWC,EAAmBL,EAAnBK,eAEb,OACE,uBAAMJ,SAAUA,EAAhB,UACE,wCAEE,uBACEJ,MAAOK,EACPJ,SAAUK,OAGd,0CAEE,uBACEN,MAAOO,EACPN,SAAUO,OAGd,8BACE,wBAAQC,KAAK,SAAb,uBCZOC,EAVA,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,SACxB,OACE,qCACCD,EAAOE,KADR,IACeF,EAAOG,OACtB,wBAAQC,QAASH,EAAjB,oBACA,2BCUWI,EAdK,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,KAAMC,EAAiB,EAAjBA,WAE3B,OACE,8BACCD,EAAKE,KAAI,SAAAR,GAAM,OACd,cAAC,EAAD,CAEEA,OAAQA,EACRC,SAAU,kBAAMM,EAAWP,KAFtBA,EAAOE,YCKLO,EAZM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACtB,OAAgB,OAAZA,EACK,KAIP,qBAAKC,UAAU,eAAf,SACGD,KCKQE,EAZM,SAAC,GAAiB,IAAfF,EAAc,EAAdA,QACtB,OAAgB,OAAZA,EACK,KAIP,qBAAKC,UAAU,QAAf,SACGD,K,gBCRDG,EAAU,eAuBD,EArBA,WAGb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB5B,EAfA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EAVA,SAACG,EAAIF,GAElB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ5B,EALA,SAACG,GACEP,IAAMS,OAAN,UAAgBV,EAAhB,YAA2BQ,IACnCL,KAAKQ,QAAQC,IAAR,iCAAsCJ,MCyHtCK,EAtIH,WACV,MAAgCC,mBAAS,IAAzC,mBAAQC,EAAR,KAAiBC,EAAjB,KACA,EAAgCF,mBAAS,IAAzC,mBAAQjC,EAAR,KAAiBoC,EAAjB,KACA,EAAoCH,mBAAS,IAA7C,mBAAQ/B,EAAR,KAAmBmC,EAAnB,KACA,EAAoCJ,mBAAS,IAA7C,mBAAQK,EAAR,KAAmBC,EAAnB,KACA,EAA8BN,mBAAS,MAAvC,mBAAOjB,EAAP,KAAgBwB,EAAhB,KACA,EAAwCP,mBAAS,MAAjD,mBAAOQ,EAAP,KAAqBC,EAArB,KAEAC,qBAAU,WACRC,IAEGtB,MAAK,SAAAuB,GACJV,EAAWU,QAEd,IAEH,IAAMC,EAAc,SAAC9B,GACnBwB,EAAWxB,GACX+B,YAAW,WACTP,EAAW,QACV,MAGCQ,EAAmB,SAAChC,GACxB0B,EAAgB1B,GAChB+B,YAAW,WACTL,EAAgB,QACf,MAoECO,EAAgBf,EAAQzC,QAAO,SAAAa,GAAM,OAAIA,EAAOE,KAAK0C,WAAWZ,MAiBtE,OACE,gCACE,2CACA,cAAC,EAAD,CAActB,QAASA,IACvB,cAAC,EAAD,CAAcA,QAASyB,IACvB,cAAC,EAAD,CAAQhD,OAAQ6C,EAAW5C,QApBJ,SAACyD,GAC1BrB,QAAQC,IAAIoB,EAAMC,OAAOzD,OACzB4C,EAAaY,EAAMC,OAAOzD,UAmBxB,kDACA,cAAC,EAAD,CACEI,SA1FY,SAACoD,GACjBA,EAAME,iBAEN,IAAMC,EAAY,CAChB9C,KAAMR,EACNS,OAAQP,GAGJqD,EAAiBrB,EAAQsB,MAAK,SAAAlD,GAAM,OAAIA,EAAOE,OAASR,UA4C3CyD,IAAnBF,EARMG,OAAOC,QAAP,UAAkB3D,EAAlB,wDArBY,WAEhB,IAAM2B,EAAK4B,EAAe5B,GACpBiC,EAAa,2BAAQL,GAAR,IAAwB9C,OAAQ6C,EAAU7C,SAE7DmC,EACYjB,EAAIiC,GACXtC,MAAK,SAAAuC,GACJ1B,EAAWD,EAAQpB,KAAI,SAAAR,GAAM,OAAIA,EAAOqB,KAAOA,EAAKrB,EAASuD,MAC7DzB,EAAW,IACXC,EAAa,IACbS,EAAY,sBAAD,OAAuBQ,EAAU9C,KAAjC,eAA4C8C,EAAU7C,OAAtD,iBAAqE8C,EAAe9C,YAEhGqD,OAAM,SAAAC,GACXjC,QAAQC,IAAI,YAAYgC,EAAMxC,SAASC,MACvCwB,EAAiBe,EAAMxC,SAASC,KAAKuC,UAEhCzC,KAAKa,EAAWD,EAAQzC,QAAO,SAAAuE,GAAC,OAAIA,EAAErC,KAAOA,OAKhDsC,IAEA7B,EAAW,IACXC,EAAa,KArCfO,EACYU,GACPhC,MAAK,SAAA4C,GACJ/B,EAAWD,EAAQiC,OAAOD,IAC1B9B,EAAW,IACXC,EAAa,IACnBS,EAAY,qBAAD,OAAsBQ,EAAU9C,UACpCsD,OAAM,SAAAC,GACdf,EAAiBe,EAAMxC,SAASC,KAAKuC,WAwElC/D,QAASA,EACTC,aApBmB,SAACkD,GACxBrB,QAAQC,IAAIoB,EAAMC,OAAOzD,OACzByC,EAAWe,EAAMC,OAAOzD,QAmBpBO,UAAWA,EACXC,eAjBqB,SAACgD,GAC1BrB,QAAQC,IAAIoB,EAAMC,OAAOzD,OACzB0C,EAAac,EAAMC,OAAOzD,UAiBxB,yCACA,cAAC,EAAD,CACEiB,KAAMqC,EACNpC,WA1Ce,SAACP,GAChBoD,OAAOC,QAAP,uCAA+CrD,EAAOE,KAAtD,QACFoC,EAAA,UAAyBtC,EAAOqB,KAChCQ,EAAWD,EAAQzC,QAAO,SAAAuE,GAAC,OAAIA,EAAErC,KAAOrB,EAAOqB,OAC/CmB,EAAY,WAAD,OAAYxC,EAAOE,e,MC/FpC4D,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.0c784aab.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filter, handler }) => {\n  return (\n    <div>\n      Filter numbers with:\n      <input\n        value={filter}\n        onChange={handler}\n      />\n    </div>\n  )\n}\n\nexport default Filter;\n","import React from 'react'\n\nconst PersonForm = ( props ) => {\n\n  const { onSubmit, newName, onNameChange,\n    newNumber, onNumberChange } = props\n\n  return (\n    <form onSubmit={onSubmit}>\n      <div>\n        name:\n        <input\n          value={newName}\n          onChange={onNameChange}\n        />\n      </div>\n      <div>\n        number:\n        <input\n          value={newNumber}\n          onChange={onNumberChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm;\n","import React from 'react'\n\nconst Person = ({ person, onRemove }) => {\n  return (\n    <>\n    {person.name} {person.number}\n    <button onClick={onRemove}>Remove</button>\n    <br/>\n    </>\n  )\n}\n\nexport default Person;\n","import React from 'react'\nimport Person from './Person'\n\nconst PersonsList = ({ list, onRemoveOf }) => {\n\n  return (\n    <div>\n    {list.map(person =>\n      <Person\n        key={person.name}\n        person={person}\n        onRemove={() => onRemoveOf(person)}/>\n    )}\n    </div>\n  )\n}\n\nexport default PersonsList\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"notification\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification;\n","import React from 'react'\n\nconst ErrorMessage = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nexport default ErrorMessage;\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  request.then(console.log(`Deleted person with id ${id}`))\n}\n\nexport default { getAll, create, update, remove }\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport PersonsList from './components/PersonsList'\nimport Notification from './components/Notification'\nimport ErrorMessage from './components/ErrorMessage'\nimport personsService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [message, setMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const viewMessage = (message) => {\n    setMessage(message)\n    setTimeout(() => {\n      setMessage(null)\n    }, 3000)\n  }\n\n  const viewErrorMessage = (message) => {\n    setErrorMessage(message)\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 3000)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    const existingPerson = persons.find(person => person.name === newName)\n\n    const addNew = () => {\n      personsService\n          .create(newPerson)\n          .then(returnedPersons => {\n            setPersons(persons.concat(returnedPersons))\n            setNewName('')\n            setNewNumber('')\n\t\t\t\t\t\tviewMessage(`New person added: ${newPerson.name}`)\n          }).catch(error => {\n\t\t\t\t\tviewErrorMessage(error.response.data.error)\n\t\t\t\t})\n    }\n\n    const updateOld = () => {\n\n      const id = existingPerson.id\n      const changedPerson = { ...existingPerson, number: newPerson.number }\n\n      personsService\n          .update(id, changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n            setNewName('')\n            setNewNumber('')\n            viewMessage(`Number changed for ${newPerson.name} to ${newPerson.number} from ${existingPerson.number}`)\n          })\n          .catch(error => {\n\t\t\t\t\t\tconsole.log('frontend:',error.response.data)\n\t\t\t\t\t\tviewErrorMessage(error.response.data.error)\n\t\t\t\t\t})\n          .then(setPersons(persons.filter(n => n.id !== id)))\n    }\n\n    const confirmOverwrite = () => {\n      if (window.confirm(`${newName} is already added to phonebook, replace the number?`)) {\n        updateOld()\n      } else {\n        setNewName('')\n        setNewNumber('')\n      }\n    }\n\n    existingPerson !== undefined\n      ? confirmOverwrite()\n      : addNew()\n  }\n\n  const removePerson = (person) => {\n    if (window.confirm(`Do you really want to remove ${person.name}?`)) {\n      personsService.remove(`${person.id}`)\n      setPersons(persons.filter(n => n.id !== person.id))\n      viewMessage(`Deleted ${person.name}`)\n    }\n  }\n\n  const personsToShow = persons.filter(person => person.name.startsWith(newFilter))\n\n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    setNewFilter(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <ErrorMessage message={errorMessage} />\n      <Filter filter={newFilter} handler={handleFilterChange} />\n      <h2>Add a new number</h2>\n      <PersonForm\n        onSubmit={addPerson}\n        newName={newName}\n        onNameChange={handleNameChange}\n        newNumber={newNumber}\n        onNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <PersonsList\n        list={personsToShow}\n        onRemoveOf={removePerson}/>\n    </div>\n  )\n}\n\nexport default App;\n","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}