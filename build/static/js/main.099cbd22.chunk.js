(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{42:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var c=t(17),o=t.n(c),r=t(8),a=t(3),u=t(18),i=t(1),s=t(0),b=function(e){var n=e.filter,t=e.handler;return Object(s.jsxs)("div",{children:["Filter numbers with:",Object(s.jsx)("input",{value:n,onChange:t})]})},j=function(e){var n=e.onSubmit,t=e.newName,c=e.onNameChange,o=e.newNumber,r=e.onNumberChange;return Object(s.jsxs)("form",{onSubmit:n,children:[Object(s.jsxs)("div",{children:["name:",Object(s.jsx)("input",{value:t,onChange:c})]}),Object(s.jsxs)("div",{children:["number:",Object(s.jsx)("input",{value:o,onChange:r})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})},l=function(e){var n=e.person,t=e.onRemove;return Object(s.jsxs)(s.Fragment,{children:[n.name," ",n.number,Object(s.jsx)("button",{onClick:t,children:"Remove"}),Object(s.jsx)("br",{})]})},m=function(e){var n=e.list,t=e.onRemoveOf;return Object(s.jsx)("div",{children:n.map((function(e){return Object(s.jsx)(l,{person:e,onRemove:function(){return t(e)}},e.name)}))})},d=function(e){var n=e.message;return null===n?null:Object(s.jsx)("div",{className:"notification",children:n})},f=function(e){var n=e.message;return null===n?null:Object(s.jsx)("div",{className:"error",children:n})},h=t(4),O=t.n(h),v="/api/persons",g=function(){return O.a.get(v).then((function(e){return e.data}))},x=function(e){return O.a.post(v,e).then((function(e){return e.data}))},p=function(e,n){return O.a.put("".concat(v,"/").concat(e),n).then((function(e){return e.data}))},w=function(e){O.a.delete("".concat(v,"/").concat(e)).then(console.log("Deleted person with id ".concat(e)))},N=function(){var e=Object(i.useState)([]),n=Object(a.a)(e,2),t=n[0],c=n[1],o=Object(i.useState)(""),l=Object(a.a)(o,2),h=l[0],O=l[1],v=Object(i.useState)(""),N=Object(a.a)(v,2),S=N[0],C=N[1],k=Object(i.useState)(""),y=Object(a.a)(k,2),R=y[0],D=y[1],E=Object(i.useState)(""),F=Object(a.a)(E,2),I=F[0],J=F[1],T=Object(i.useState)(""),A=Object(a.a)(T,2),B=A[0],M=A[1];Object(i.useEffect)((function(){g().then((function(e){c(e)}))}),[]);var P=function(e){J(e),setTimeout((function(){J(null)}),3e3)},W=t.filter((function(e){return e.name.startsWith(R)}));return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Phonebook"}),Object(s.jsx)(d,{message:I}),Object(s.jsx)(f,{message:B}),Object(s.jsx)(b,{filter:R,handler:function(e){console.log(e.target.value),D(e.target.value)}}),Object(s.jsx)("h2",{children:"Add a new number"}),Object(s.jsx)(j,{onSubmit:function(e){e.preventDefault();var n={name:h,number:S},o=t.find((function(e){return e.name===h})),a=function(){var e=o.id,a=Object(r.a)(Object(r.a)({},o),{},{number:n.number});p(e,a).then((function(r){c(t.map((function(n){return n.id!==e?n:r}))),O(""),C(""),P("Number changed for ".concat(n.name," to ").concat(n.number," from ").concat(o.number))})).catch(function(e){M(e),setTimeout((function(){M(null)}),3e3)}("Information on ".concat(o.name," is already removed from the server."))).then(c(t.filter((function(n){return n.id!==e}))))};void 0!==o?window.confirm("".concat(h," is already added to phonebook, replace the number?"))?a():(O(""),C("")):(x(n).then((function(e){c(t.concat(e)),O(""),C("")})).catch((function(e){e.response.data,Object(u.a)("viewErrorMessage")})),P("New person added: ".concat(n.name)))},newName:h,onNameChange:function(e){console.log(e.target.value),O(e.target.value)},newNumber:S,onNumberChange:function(e){console.log(e.target.value),C(e.target.value)}}),Object(s.jsx)("h2",{children:"Numbers"}),Object(s.jsx)(m,{list:W,onRemoveOf:function(e){window.confirm("Do you really want to remove ".concat(e.name,"?"))&&(w("".concat(e.id)),c(t.filter((function(n){return n.id!==e.id}))),P("Deleted ".concat(e.name)))}})]})};t(42);o.a.render(Object(s.jsx)(N,{}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.099cbd22.chunk.js.map